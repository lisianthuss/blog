---
title: "Docker"
date: 2020-03-26T14:11:52+09:00
draft: false
---
### Docker
컨테이너 기반의 오픈소스 가상화 플랫폼

### Container
격리된 공간에서 프로세스를 동작하는 기술

기존의 가상화 방식은 OS를 가상화하였다.  
VMWare, Virtual Box 는 Host OS 위에 Guest OS 전체를 가상화하여 사용하는 방식이다.  
여러가지 OS를 가상화하여 사용할 수 있지만 무겁고 느린 단점이 있다.  

이러한 상황을 개선하기 위해 CPU의 가상화 기술(HVM)을 이용한 KVM(Kernel-Based Virtual Machine)과 반가상화(Paravirtualization) 방식의 Xen 이 등장하였다.  
guest os가 필요하지만 전체 OS를 가상화하는 방식은 아니었기 때문에 host형 가상화 방식에 비해 성능이 향상되었다.

위 가상화 방식들의 성능 문제를 개선하기 위해 프로세스를 격리하는 방식이 등장하였다.  
하나의 서버에 여러개의 컨테이너를 실행하여 서로 영향을 미치지 않고 독립적으로 실행할 수 있다.

### Image
컨테이너 실행에 필요한 파일과 설정 값들을 포함하고 있는 것으로 상태 값을 가지지 않고 변하지 않는다.  
컨테이너는 이미지를 실행한 상태라고 불 수 있고 추가되거나 변하는 값은 컨테이너에 저장된다.  
같은 이미지에서 여러개의 컨테이너를 생성할 수 있고 컨테이너의 상태가 바뀌거나 삭제되더라도 이미지는 변하지 않고 그래도 남는다.

### Layer
여러개의 레이어를 하나의 파일 시스템으로 사용할 수 있게 해준다.  
이미지는 여러개의 읽기 전용 레이어로 구성되고 파일이 추가되거나 수정되면 새로운 레이어가 생성된다.
컨테이너를 생성할 때도 레이어 방식을 사용하는데 기존의 이미지 레이어 위에 읽기/쓰기 레이어를 추가한다.  
컨테이너가 실행 중에 생성하는 파일이나 변경된 내용은 읽기/쓰기 레이어에 저장되므로 여러개의 컨테이너를 생성해도 최소한의 용량만 사용한다.

### Reference
http://subicura.com/2017/01/19/docker-guide-for-beginners-1.html
